{"ast":null,"code":"var _jsxFileName = \"/home/mateuscrqueiroz/projects/desafio-07/frontend/src/pages/Dashboard/index.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport income from \"../../assets/income.svg\";\nimport outcome from \"../../assets/outcome.svg\";\nimport total from \"../../assets/total.svg\";\nimport api from '../../services/api';\nimport Header from '../../components/Header';\nimport formatValue from '../../utils/formatValue';\nimport { Container, CardContainer, Card, TableContainer } from './styles';\n\nconst Dashboard = () => {\n  const [transactions, setTransactions] = useState([]);\n  const [balance, setBalance] = useState({});\n  useEffect(() => {\n    async function loadTransactions() {\n      const response = await api.get('/transactions');\n      const transactions = response.data.transactions;\n      setTransactions(transactions);\n    }\n\n    ;\n\n    async function loadBalance() {\n      const response = await api.get('/transactions');\n      const balance = response.data.balance;\n      setBalance(balance);\n    }\n\n    ;\n    loadTransactions();\n    loadBalance();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, \"Entradas\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: income,\n    alt: \"Income\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-testid\": \"balance-income\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, formatValue(Number(balance.income)))), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, \"Sa\\xEDdas\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: outcome,\n    alt: \"Outcome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-testid\": \"balance-outcome\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, formatValue(Number(balance.outcome)))), /*#__PURE__*/React.createElement(Card, {\n    total: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(\"img\", {\n    src: total,\n    alt: \"Total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h1\", {\n    \"data-testid\": \"balance-total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, formatValue(Number(balance.total))))), /*#__PURE__*/React.createElement(TableContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"T\\xEDtulo\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Pre\\xE7o\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Categoria\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Data\"))), transactions.map(transaction => /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, transaction.title), /*#__PURE__*/React.createElement(\"td\", {\n    className: \"income\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, transaction.value), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, transaction.created_at))))))));\n};\n\nexport default Dashboard;","map":{"version":3,"sources":["/home/mateuscrqueiroz/projects/desafio-07/frontend/src/pages/Dashboard/index.tsx"],"names":["React","useState","useEffect","api","Header","formatValue","Container","CardContainer","Card","TableContainer","Dashboard","transactions","setTransactions","balance","setBalance","loadTransactions","response","get","data","loadBalance","income","Number","outcome","total","map","transaction","title","value","created_at"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport income from '../../assets/income.svg';\nimport outcome from '../../assets/outcome.svg';\nimport total from '../../assets/total.svg';\n\nimport api from '../../services/api';\n\nimport Header from '../../components/Header';\n\nimport formatValue from '../../utils/formatValue';\n\nimport { Container, CardContainer, Card, TableContainer } from './styles';\n\ninterface Transaction {\n  id: string;\n  title: string;\n  value: number;\n  formattedValue: string;\n  formattedDate: string;\n  type: 'income' | 'outcome';\n  category: { title: string };\n  created_at: Date;\n}\n\ninterface Balance {\n  income: string;\n  outcome: string;\n  total: string;\n}\n\nconst Dashboard: React.FC = () => {\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\n  const [balance, setBalance] = useState<Balance>({} as Balance);\n\n  useEffect(() => {\n    async function loadTransactions(): Promise<void> {\n      const response = await api.get('/transactions');\n\n      const transactions: Transaction[] = response.data.transactions;\n\n      setTransactions(transactions);\n    };\n\n    async function loadBalance(): Promise<void> {\n      const response = await api.get('/transactions');\n\n      const balance = response.data.balance;\n\n      setBalance(balance);\n    };\n\n    loadTransactions();\n    loadBalance();\n  }, []);\n\n  return (\n    <>\n      <Header />\n      <Container>\n        <CardContainer>\n          <Card>\n            <header>\n              <p>Entradas</p>\n              <img src={income} alt=\"Income\" />\n            </header>\n            <h1 data-testid=\"balance-income\">{formatValue(Number(balance.income))}</h1>\n          </Card>\n          <Card>\n            <header>\n              <p>Saídas</p>\n              <img src={outcome} alt=\"Outcome\" />\n            </header>\n            <h1 data-testid=\"balance-outcome\">{formatValue(Number(balance.outcome))}</h1>\n          </Card>\n          <Card total>\n            <header>\n              <p>Total</p>\n              <img src={total} alt=\"Total\" />\n            </header>\n            <h1 data-testid=\"balance-total\">{formatValue(Number(balance.total))}</h1>\n          </Card>\n        </CardContainer>\n\n        <TableContainer>\n          <table>\n            <thead>\n              <tr>\n                <th>Título</th>\n                <th>Preço</th>\n                <th>Categoria</th>\n                <th>Data</th>\n              </tr>\n            </thead>\n\n            {transactions.map(transaction => (\n              <tbody>\n                <tr>\n                  <td className=\"title\">{transaction.title}</td>\n                  <td className=\"income\">{transaction.value}</td>\n                  <td>{transaction.created_at}</td>\n                </tr>\n              </tbody>\n            ))}\n          </table>\n        </TableContainer>\n      </Container>\n    </>\n  );\n};\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}